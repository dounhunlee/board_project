<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">게시글 상세보기</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="mb-4">
        <h2 th:text="${post.title}">제목</h2>
        <p class="text-muted">
            작성자: <span th:text="${post.author}"></span> |
            작성일: <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
        </p>
    </div>

    <div class="mb-5">
        <p th:text="${post.content}" class="border p-4 bg-white rounded shadow-sm" style="white-space: pre-wrap;"></p>
    </div>

    <div class="d-flex justify-content-between">
        <a th:href="@{/posts}" class="btn btn-outline-secondary">← 목록으로</a>

        <!-- 로그인한 유저가 작성자일 때만 보임 -->
        <div th:if="${loginUser == post.author or userRole == 'ADMIN'}">
            <a th:href="@{'/posts/' + ${post.id} + '/edit'}" class="btn btn-warning">수정</a>
            <a th:href="@{'/posts/' + ${post.id} + '/delete'}"
               class="btn btn-danger"
               onclick="return confirm('정말 삭제하시겠습니까?');">삭제</a>
        </div>
    </div>
</div>

</body>
</html>
